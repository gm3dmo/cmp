{% extends "base.html" %}
{% load static crispy_forms_tags %}
{% block title %}Soldier{% endblock %}
{% block content %}

<h1>Soldier Record</h1>

<table class="table table-hover table-bordered table-lg">
  <thead class="thead-dark">
  </thead>
  <tbody>
      <tr><td>Surname:</td><td>{{ soldier.surname }}</td></tr>
      <tr><td>Initials:</td><td>{{ soldier.initials }}</td></tr>
      <tr><td>Rank:</td><td>{{ soldier.rank }}</td></tr>
      <tr><td>Army Number:</td><td>{{ soldier.army_number }}</td></tr>
      <tr><td>Notes:</td><td>{{ soldier.notes }}</td></tr>

      {% if soldier.soldierdecoration_set.all %}
          <tr><td colspan="2"><h4>Decorations Record:</h4></td></tr>
          {% for decoration in soldier.soldierdecoration_set.all %}
             <tr><td>decoration: </td><td>{{ decoration }}</td></tr>
          {% endfor %}
      {% endif %}

      {% if soldier.soldierimprisonment_set.exists %}
       <tr><td colspan="2"><h4>Prisoner of War Record:</h4></td></tr>
       {% for imprisonment in soldier.soldierimprisonment_set.all %}
          <tr><td>Imprisonment: </td><td>{{ imprisonment }} {{imprisonment.pow_camp.country}} {{imprisonment.pow_camp.country.flag}}</td></tr>
       {% endfor %}

      {% endif %}
      

      {% if soldier.soldierdeath %}
         <tr><td colspan="2"><h4>Casualty Record:</h4></td></tr>
         <tr><td>Date of Death:</td><td>{{ soldier.soldierdeath.date }}</td></tr>
         <tr><td>Company:</td><td>{{ soldier.soldierdeath.company }}</td></tr>
         <tr><td>Cemetery:</td><td>{{ soldier.soldierdeath.cemetery }}</td></tr>
         <tr><td colspan="2">Map</td></tr>
         <tr><td colspan="2">A map goes here</tr>
      {% endif %}


  

  </tbody>
</table>

{% endblock %}