{% extends "base.html" %}
{% load static crispy_forms_tags %}
{% block title %}Soldiers{% endblock %}
{% block content %}

<div class="center-content">
<h3>Search Soldiers</h3>
<div name="search-input" class="search-input">
<form method="get">
  <input type="text" name="q" value="{{ request.GET.q }}"  placeholder="Search soldiers to edit">
  <input type="submit" value="Search">
</form>
</div>

<div>
<table class="content-table">
  <thead class="">
    <tr>
      <th></th>
      <th>SURNAME</th>
      <th>INITIALS</th>
      <th>ARMY No.</th>
      <th>RANK</th>
      <th>CASUALTY</th>
    </tr>
  </thead>

  {% for soldier in page_obj %}
    <tr>
      <td><button class="glossy-button" onclick="location.href='{% url 'edit-soldiers' soldier.id %}'" type="button">EDIT</button></td>
      <td><span class="soldier-info">{{ soldier.surname }}</span></td>
      <td><span class="soldier-info">{{ soldier.initials }}</span></td>
      <td><span class="soldier-info">{{ soldier.army_number }}</span></td>
      <td><span class="soldier-info">{{ soldier.rank }}</span></td>
      <td><span class="soldier-info">{{ soldier.soldierdeath.date }}</span></td>
    </tr>
   {% endfor %}
</table>
</div>

<p>Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}</p>


{% if page_obj.has_previous %}
    <a href="?q={{ request.GET.q }}&page={{ page_obj.previous_page_number }}">Previous</a>
{% endif %}

{% if page_obj.has_next %}
    <a href="?q={{ request.GET.q }}&page={{ page_obj.next_page_number }}">Next</a>
{% endif %}

{% endblock %}
</div>